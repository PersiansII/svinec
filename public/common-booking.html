<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rezervace společných prostor</title>
  <link rel="stylesheet" href="booking.css" />
  <style>
    /* match booking.html look & layout */
    body{font-family:Arial,Helvetica,sans-serif;background:#f7f7f7;padding:20px}
    .wizard{max-width:720px;margin:0 auto;background:#fff;padding:18px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
    h1{margin-top:0}
    .step{display:none}
    .step.active{display:block}
    .step-buttons{margin-top:16px;display:flex;gap:10px}
    .slots{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:8px;margin-top:8px}
    .slot{padding:10px;border-radius:6px;border:1px solid #ddd;background:#fff;display:flex;align-items:center;gap:8px}
    .slot.disabled{background:#eee;color:#777;text-decoration:line-through;border-color:#ccc}
    label{display:block}
    .meta{font-size:0.9rem;color:#555}
    .error{color:#b71c1c;margin-top:8px}
    /* calendar styles */
    .calendar { margin-top:12px; border:1px solid #e0e0e0; border-radius:6px; padding:8px; background:#fff; overflow:hidden; }
    .cal-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; gap:8px; }
    .cal-grid { display:grid; grid-template-columns: repeat(7,1fr); gap:4px; }
    .cal-day { text-align:center; padding:8px; border-radius:4px; cursor:pointer; }
    .cal-day.header { font-weight:600; background:transparent; cursor:default; }
    .cal-day.today { outline:2px solid #2196F3; }
    .cal-day.selected { background:#2196F3; color:#fff; }
    .cal-day.disabled { color:#bbb; cursor:default; }

    /* small calendar nav buttons (cleaner, smaller) */
    #cal-prev, #cal-next {
      background: #4CAF50;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 4px 8px;
      font-size: 0.95rem;
      line-height: 1;
      width: 38px;
      height: 32px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
    }
    #cal-prev:hover, #cal-next:hover { background: #f3f3f3; }

    /* make date input compact so it doesn't stick out */
    #date {
      width: 160px;
      max-width: 100%;
      padding: 6px 8px;
      font-size: 0.95rem;
      box-sizing: border-box;
      display: inline-block;
      vertical-align: middle;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: #fff;
    }

    @media (max-width:480px){ .slots{grid-template-columns:repeat(1,1fr)} }
  </style>
</head>
<body>
  <div class="wizard">
    <h1>Rezervace společných prostor</h1>

    <!-- Step 1: select rooms (multiple) + calendar -->
    <div class="step active" id="step-1">
      <p>Vyberte jednu nebo více místností a datum:</p>

      <div id="rooms-checkboxes" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:8px;margin-bottom:12px"></div>

      <label>Vybrané datum: <input type="date" id="date" required /></label>

      <div id="calendar-widget" class="calendar" aria-hidden="false">
        <div class="cal-head">
          <button type="button" id="cal-prev">&lt;</button>
          <div id="cal-month"></div>
          <button type="button" id="cal-next">&gt;</button>
        </div>
        <div id="cal-grid" class="cal-grid"></div>
      </div>

      <div class="step-buttons">
        <button type="button" id="to-step-2">Další</button>
      </div>
    </div>

    <!-- Step 2: timeslots -->
    <div class="step" id="step-2">
      <p>Vyberte časové bloky (3hodinové). Můžete vybrat více bloků. Již obsazené budou šedé a přeškrtnuté.</p>
      <div id="slots" class="slots"></div>
      <div id="slots-error" class="error" style="display:none">Vyberte alespoň jeden časový blok.</div>

      <div class="step-buttons">
        <button type="button" id="back-to-1">Zpět</button>
        <button type="button" id="to-step-3">Další</button>
      </div>
    </div>

    <!-- Step 3: people + contact -->
    <div class="step" id="step-3">
      <p>Zadejte počet osob a kontaktní údaje pro odeslání žádosti:</p>

      <label>Počet osob:
        <input type="number" id="people" min="1" value="1" />
      </label>

      <label>Jméno:
        <input type="text" id="name" required />
      </label>

      <label>Email:
        <input type="email" id="email" required />
      </label>

      <label>Telefon:
        <input type="tel" id="phone" />
      </label>

      <div id="submit-msg" class="meta" style="margin-top:8px"></div>

      <div class="step-buttons">
        <button type="button" id="back-to-2">Zpět</button>
        <button type="button" id="submit-booking">Odeslat žádost</button>
      </div>
    </div>
  </div>

  <script src="common-booking-wizard.js"></script>
</body>
</html>
